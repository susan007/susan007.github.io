(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{396:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"自动化构建工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动化构建工具"}},[t._v("#")]),t._v(" 自动化构建工具")]),t._v(" "),a("p",[t._v("本文主要介绍一下travis自动化构建工具的使用，实例为本博客的自动化构建过程。（另外有Circle-ci可了解一下）")]),t._v(" "),a("h2",{attrs:{id:"travis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#travis"}},[t._v("#")]),t._v(" travis")]),t._v(" "),a("h5",{attrs:{id:"_1、进入travis-ci官网，用你的github账号登录该网站，它会自动关联你github上的工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、进入travis-ci官网，用你的github账号登录该网站，它会自动关联你github上的工程"}},[t._v("#")]),t._v(" 1、进入travis-ci官网，用你的github账号登录该网站，它会自动关联你github上的工程")]),t._v(" "),a("h5",{attrs:{id:"_2、选择一个工程，打开setting前面的开关，点击setting"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、选择一个工程，打开setting前面的开关，点击setting"}},[t._v("#")]),t._v(" 2、选择一个工程，打开setting前面的开关，点击setting")]),t._v(" "),a("h5",{attrs:{id:"_3、setting里面默认已经打开了几个选项，在此我们主要需要添加一个github的personal-access-key"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、setting里面默认已经打开了几个选项，在此我们主要需要添加一个github的personal-access-key"}},[t._v("#")]),t._v(" 3、setting里面默认已经打开了几个选项，在此我们主要需要添加一个github的"),a("code",[t._v("Personal access key")])]),t._v(" "),a("ul",[a("li",[t._v("步骤一：github上生成"),a("code",[t._v("personal access key")])])]),t._v(" "),a("blockquote",[a("p",[t._v("github --\x3e setting\n--\x3e Developer setting --\x3e Personal access tokens\n--\x3e Generate new token --\x3e 生成token")])]),t._v(" "),a("ul",[a("li",[t._v("步骤二：添加到travis-ci设置")])]),t._v(" "),a("blockquote",[a("p",[t._v("setting里面有一个填写名称和key的地方，名称填写你的token名称，key填写github生成的key")])]),t._v(" "),a("h5",{attrs:{id:"_4、配置-travis-yml：该文件位于你的博客根目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4、配置-travis-yml：该文件位于你的博客根目录"}},[t._v("#")]),t._v(" 4、配置.travis.yml：该文件位于你的博客根目录")]),t._v(" "),a("ul",[a("li",[t._v("travis.yml具体内容")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("language"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" node_js\nnode_js"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8"')]),t._v("\ninstall"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" npm install\nscript"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" npm run deploy\n")])])]),a("ul",[a("li",[t._v("deploy.sh具体内容，该配置参考vuepress官方配置")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("# 确保脚本抛出遇到的错误\nset "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("e\n\n# 生成静态文件\nnpm run docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("build\n\n# 进入生成的文件夹\ncd "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dist\n\ngit init\ngit add "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("\ngit commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),t._v("\n# 如果发布到 https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io  "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("USERNAME")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("你的用户名\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//注意，此处的$BLOG_TOKEN是你生成的`Personal access key`，名字要一致。")]),t._v("\ngit push "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("q https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("$"),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("BLOG_TOKEN")]),t._v("@github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("susan007"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("susan007"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git master\n")])])]),a("h5",{attrs:{id:"_5、事已至此，当你把博客推到github的时候，会自动执行-travis-yml中的内容。执行结果可去官网查看。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5、事已至此，当你把博客推到github的时候，会自动执行-travis-yml中的内容。执行结果可去官网查看。"}},[t._v("#")]),t._v(" 5、事已至此，当你把博客推到github的时候，会自动执行.travis.yml中的内容。执行结果可去官网查看。")]),t._v(" "),a("p",[t._v("PS: 更详细的步骤请参考\nhttps://www.jianshu.com/p/e22c13d85659\nhttps://www.jianshu.com/p/5691815b81b6")]),t._v(" "),a("h2",{attrs:{id:"jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jenkins"}},[t._v("#")]),t._v(" Jenkins")])])}],!1,null,null,null);s.default=r.exports}}]);